# 성능 데이터 모델

데이터베이스 성능 향상을 목적으로 설계단계의 데이터 모델링 때부터 성능과 관련된 사항이 데이터 모델링에 반영될 수 있도록 하는 것

- 데이터모델은 성능을 튜닝하면서 변경될 수 있다.
- 분석/설계 단계에서 성능을 고려한 데이터모델링을 수행할 경우 성능 저하에 따른 Rework비용을 최소화 할 수 있는 기회를 가지게 된다.

### 성능 데이터 모델 수행 절차

1. 데이터모델링을 할 때 정규화를 정확히 수행한다.
2. 데이터베이스 용량산정을 수행한다.
3. 데이터베이스에 발생되는 트랜잭션의 유형을 파악한다.
4. 용량과 트랜잭션의 유형에 따라 **반정규화**를 수행한다.
5. 이력모델의 조정, PK/FK 조정, 슈퍼타입, 서브타입 조정 등을 수행한다.
6. 성능관점에서 데이터 모델을 검증한다.

# 정규화

관계형 데이터베이스의 설계에서 중복을 최소화하게 데이터를 구조화하는 프로세스를 **정규화(Normalization)**라고 한다. 데이터베이스 정규화의 목표는 이상이 있는 관계를 재구성하여 작고 잘 조직된 관계를 생성하는 것에 있다.

### 1차 정규화

테이블의 컬럼이 원자값(Atomic Value, 하나의 값)을 갖도록 테이블을 분해하는 것

- 대상 예 : 칼럼에 의한 반복적인 속성값을 갖는 형태

### 2차 정규화

**기본키 중에 특정 컬럼에만 종속된 컬럼이 없어야 된다는 것.**

### 3차 정규화

**이행적 종속을 없애도록 테이블을 분해** 하는 것.

- 다량 데이터 탐색 → 파티션 및 데이터 클러스터링 등의 다양한 물리 저장 기법

## 반정규화

정규화된 엔터티, 속성, 관계에 대해 시스템의 성능향상과 개발과 운영의 단순화를 위해 중복, 통합, 분리 등을 수행하는 데이터 모델링 기법

- 데이터를 조회할 때 I/O 양이 많거나 경로가 너무 멀어서 성능이 저하될 때
- 다양한 테이블에서 필요할 수도

### 반정규화 기법

- 중복 칼럼을 추가 : 조인 감소를 위해 여러 테이블에 동일한 칼럼을 갖도록 한다
- 파생 칼럼을 추가 : 조회 성능을 우수하게 하기 위해 미리 계산된 칼럼을 갖도록 한다
- 이력테이블에 기능 칼럼을 추가 : 최신값을 처리하는 이력의 특성을 고려하여 기능성 칼럼을 추가
- 지나치게 많은 조인 → 뷰 사용
- 대량의 데이터 처리나 부분처리 → 클러스터링, 인덱스 적용
- 대량의 데이터 → PK의 성격에 따라 테이블 분리 **(파티셔닝 기법)**
- 응용 애플리케이션에서 로직 구사 방법을 변경

# 분산 데이터베이스

Global Single Instance (통합 데이터 구조) ↔ 분산 데이터베이스

- 공통코드, 기준정보 등 마스터 데이터는 복제분산을 적용
- Near Real Time : 분산 데이터베이스 사용 가능
- 백업사이트 구성 ← 간단하게 분산 기능 적용